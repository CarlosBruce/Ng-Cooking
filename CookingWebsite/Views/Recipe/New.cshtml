<div class="content" id="content_recettes_new" ng-app="MyApp" ng-controller="RecipeController">

    <h1 class="page-title">Nouvelle recette</h1>
    <section class="section">
        <form action="#">
            <div class="row">
                <div class="col-xs-6">
                    <p class="line">
                        <label for="">Le nom de votre recette</label>
                        <input type="text" class="mb0 wide" id="recipeName" required ng-model="Name" >
                    </p>
                    <p class="line">
                        <label for="">Catégorie</label>
                        <select ng-model="RecipeCategory">
                            <option ng-repeat="item in RecipeCategories"
                                    value="{{item.IdRecipeCategory}}"
                                    title="{{item.Name}}"
                                    ng-selected="item.IdRecipeCategory == IdRecipeCategory">
                                {{item.Name}}

                            </option>
                        </select>
                    </p>
                    <p class="line">
                        <label for="">Préparation de votre recette</label>
                        <textarea id="recette_desc" class="resizable mb0 wide" required ng-model="Preparation"></textarea>
                    </p>
                </div>
                <div class="col-xs-6">
                    <p class="line">
                        <label for="">Photo de la recette</label>
                        <input type="text" class="mb0" ng-model="UrlRecipePicture">
                    </p>
                    <p class="line ac">
                        <IMG ng-src="{{UrlRecipePicture}}" width="50" height="50" />
                    </p>
                </div>
                <div class="col-xs-12">
                    <div class="hr mt2 mb2"></div>
                </div>
                <div class="col-xs-12">
                    <p class="line ac">
                        <label for="">Sélectionnez tous les ingrédients de votre recette</label>
                    </p>
                    <p class="ac">
                        <select id="Icat" ng-model="IngredientCategory" ng-change="GetSelectedIngredientCategory()">
                            <option ng-repeat="item in IngredientCategories"
                                    value="{{item.IdIngredientCategory}}"
                                    title="{{item.Name}}">
                                {{item.Name}}
                            </option>
                        </select>
                        <span class="span-label"><span class="glyphicon glyphicon-menu-right nm"></span></span>
                        @*<select name="" id="">
                            <option value="">Poulet</option>
                            <option value="">Maïs</option>
                            <option value="">Blé</option>
                            <option value="">Boeuf</option>
                            <option value="">Pomme</option>
                            <option value="">Lait</option>
                            <option value="">Gruyère</option>
                            <option value="etc">etc...</option>
                        </select>
                        <button type="button" class="btn btn_color3"><span class="glyphicon glyphicon-plus"></span></button>*@

                        <ul class="list-group">
                            <li class="list-group-item" ng-repeat="item in IngredientList.Ingredients">
                                {{ item.Name }}
                                <button class="btn btn_color3" ng-click="addIngredient(item)"><span class="glyphicon glyphicon-plus"></span></button>
                            </li>
                        </ul>
                    </p>
                    <div class="ingredients_list">
                        <ul class="list ac">
                            <li class="item" ng-repeat="r in Ingredients">
                                <img class="item-img" width=50%"" src="{{r.UrlIngredientPicture}}" alt="{{r.Name}}">
                                <p class="item-name" title="{{r.Name}}">{{r.Name}}</p>
                                <button type="button"  ng-click="removeIngredient($index)" class="remove_ingredient"><span class="glyphicon glyphicon-remove"></span></button>
                            </li>
                            
                        </ul>
                    </div>
                    <div class="ac">
                        <p class="recette_total_calories">
                            <span class="tit">Valeur calorique <span class="mass">(100g)</span> : </span><span class="val">{{calories}}<span class="unit">kcal</span></span>
                        </p>
                    </div>
                </div>
                <div class="col-xs-12">
                    <div class="hr mb2"></div>
                </div>
                <div class="col-xs-12 ac">
                    <button type="button" class="btn btn_color3 recette_save" ng-click="save()" ><span class="glyphicon glyphicon-ok mr0"></span><span>Valider ma recette</span></button>
                </div>
                <!-- Afficher au clic sur "valider ma recette" lorsque tout s'est bien déroulé -->
                <div class="col-xs-12" ng-show="recipeAdded">
                    <p class="ac mt2 tb">
                        <span class="glyphicon glyphicon-thumbs-up color3"></span>
                        <span>Votre recette a bien été ajoutée !</span>
                    </p>
                    <p class="ac">
                        <a class="btn btn_color1" href="communaute_details.html"><span class="glyphicon glyphicon-cutlery"></span><span>Mes recettes</span></a>
                    </p>
                </div>
                <!-- Afficher au clic sur "valider ma recette" si certains éléments sont manquants -->
                <div class="col-xs-12" ng-show="recipeError">
                    <p class="ac mt2 tb">
                        <span class="glyphicon glyphicon-exclamation-sign color2"></span>
                        <span>Woops ! Votre recette est super foireuse</span>
                    </p>
                    <p class="ac">Vous avez dû oublier quelque chose...</p>
                </div>
            </div>
        </form>
    </section>
</div>

